<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment | QuickMedi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .step-indicator {
            position: relative;
        }
        .step-indicator::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background-color: #e5e7eb;
            z-index: -1;
        }
        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e5e7eb;
            color: #6b7280;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .step-circle.active {
            background-color: #3b82f6;
            color: white;
        }
        .step-circle.completed {
            background-color: #10b981;
            color: white;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Include Header -->
    <div id="header"></div>

    <main class="min-h-screen py-12">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl font-bold text-center mb-8">Book an Appointment</h1>
            
            <!-- Step Indicator -->
            <div class="max-w-3xl mx-auto mb-12">
                <div class="flex justify-between step-indicator">
                    <div class="text-center">
                        <div class="step-circle mx-auto active" id="step1-indicator">1</div>
                        <p class="mt-2 text-sm font-medium">Select Service</p>
                    </div>
                    <div class="text-center">
                        <div class="step-circle mx-auto" id="step2-indicator">2</div>
                        <p class="mt-2 text-sm font-medium">Date & Time</p>
                    </div>
                    <div class="text-center">
                        <div class="step-circle mx-auto" id="step3-indicator">3</div>
                        <p class="mt-2 text-sm font-medium">Patient Info</p>
                    </div>
                    <div class="text-center">
                        <div class="step-circle mx-auto" id="step4-indicator">4</div>
                        <p class="mt-2 text-sm font-medium">Confirmation</p>
                    </div>
                </div>
            </div>

            <!-- Step 1: Select Service -->
            <div class="step active max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md" id="step1">
                <h2 class="text-2xl font-semibold mb-6">Select Service</h2>
                <div class="space-y-4">
                    <div class="flex items-center p-4 border rounded-lg hover:border-blue-500 cursor-pointer">
                        <input type="radio" name="service" id="general" class="h-5 w-5 text-blue-600" checked>
                        <label for="general" class="ml-3 block">
                            <span class="text-lg font-medium">General Practitioner</span>
                            <span class="block text-gray-600">Consultation with a primary care physician</span>
                        </label>
                    </div>
                    <div class="flex items-center p-4 border rounded-lg hover:border-blue-500 cursor-pointer">
                        <input type="radio" name="service" id="specialist" class="h-5 w-5 text-blue-600">
                        <label for="specialist" class="ml-3 block">
                            <span class="text-lg font-medium">Specialist Consultation</span>
                            <span class="block text-gray-600">Consultation with a specialist (Cardiologist, Dermatologist, etc.)</span>
                        </label>
                    </div>
                    <div class="flex items-center p-4 border rounded-lg hover:border-blue-500 cursor-pointer">
                        <input type="radio" name="service" id="telemedicine" class="h-5 w-5 text-blue-600">
                        <label for="telemedicine" class="ml-3 block">
                            <span class="text-lg font-medium">Telemedicine</span>
                            <span class="block text-gray-600">Virtual consultation from the comfort of your home</span>
                        </label>
                    </div>
                </div>
                <div class="mt-8 flex justify-end">
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition next-step" data-next="step2">
                        Next <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Step 2: Date & Time -->
            <div class="step max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md" id="step2">
                <h2 class="text-2xl font-semibold mb-6">Select Date & Time</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="appointment-date" class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                        <input type="date" id="appointment-date" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Available Time Slots</label>
                        <div class="grid grid-cols-3 gap-2">
                            <button class="time-slot py-2 px-3 border rounded-lg hover:bg-blue-50 hover:border-blue-500">9:00 AM</button>
                            <button class="time-slot py-2 px-3 border rounded-lg hover:bg-blue-50 hover:border-blue-500">10:00 AM</button>
                            <button class="time-slot py-2 px-3 border rounded-lg hover:bg-blue-50 hover:border-blue-500">11:00 AM</button>
                            <button class="time-slot py-2 px-3 border rounded-lg hover:bg-blue-50 hover:border-blue-500">1:00 PM</button>
                            <button class="time-slot py-2 px-3 border rounded-lg hover:bg-blue-50 hover:border-blue-500">2:00 PM</button>
                            <button class="time-slot py-2 px-3 border rounded-lg hover:bg-blue-50 hover:border-blue-500">3:00 PM</button>
                        </div>
                    </div>
                </div>
                <div class="mt-8 flex justify-between">
                    <button class="text-gray-600 hover:text-gray-800 px-6 py-2 rounded-lg font-medium transition prev-step" data-prev="step1">
                        <i class="fas fa-arrow-left mr-2"></i> Back
                    </button>
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition next-step" data-next="step3">
                        Next <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Step 3: Patient Information -->
            <div class="step max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md" id="step3">
                <h2 class="text-2xl font-semibold mb-6">Patient Information</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="patient-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="patient-name" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="patient-age" class="block text-sm font-medium text-gray-700 mb-1">Age</label>
                        <input type="number" id="patient-age" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label for="patient-gender" class="block text-sm font-medium text-gray-700 mb-1">Gender</label>
                        <select id="patient-gender" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500">
                            <option value="">Select</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                            <option value="prefer-not-to-say">Prefer not to say</option>
                        </select>
                    </div>
                    <div>
                        <label for="patient-phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="patient-phone" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div class="md:col-span-2">
                        <label for="patient-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="patient-email" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div class="md:col-span-2">
                        <label for="patient-notes" class="block text-sm font-medium text-gray-700 mb-1">Additional Notes</label>
                        <textarea id="patient-notes" rows="3" class="w-full p-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"></textarea>
                    </div>
                </div>
                <div class="mt-8 flex justify-between">
                    <button class="text-gray-600 hover:text-gray-800 px-6 py-2 rounded-lg font-medium transition prev-step" data-prev="step2">
                        <i class="fas fa-arrow-left mr-2"></i> Back
                    </button>
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition next-step" data-next="step4">
                        Next <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>

            <!-- Step 4: Confirmation -->
            <div class="step max-w-3xl mx-auto bg-white p-8 rounded-xl shadow-md" id="step4">
                <h2 class="text-2xl font-semibold mb-6">Confirm Your Appointment</h2>
                <div class="bg-gray-50 p-6 rounded-lg mb-6">
                    <h3 class="text-lg font-medium mb-4">Appointment Details</h3>
                    <div class="space-y-3">
                        <div class="flex">
                            <span class="text-gray-600 w-32">Service:</span>
                            <span id="confirm-service" class="font-medium">General Practitioner</span>
                        </div>
                        <div class="flex">
                            <span class="text-gray-600 w-32">Date:</span>
                            <span id="confirm-date" class="font-medium">Not selected</span>
                        </div>
                        <div class="flex">
                            <span class="text-gray-600 w-32">Time:</span>
                            <span id="confirm-time" class="font-medium">Not selected</span>
                        </div>
                        <div class="flex">
                            <span class="text-gray-600 w-32">Patient:</span>
                            <span id="confirm-patient" class="font-medium">Not provided</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center mb-6">
                    <input type="checkbox" id="terms-agreement" class="h-4 w-4 text-blue-600">
                    <label for="terms-agreement" class="ml-2 text-sm text-gray-700">
                        I agree to the <a href="terms-of-service.html" class="text-blue-600 hover:underline">Terms of Service</a> and <a href="privacy-policy.html" class="text-blue-600 hover:underline">Privacy Policy</a>
                    </label>
                </div>
                <div class="mt-8 flex justify-between">
                    <button class="text-gray-600 hover:text-gray-800 px-6 py-2 rounded-lg font-medium transition prev-step" data-prev="step3">
                        <i class="fas fa-arrow-left mr-2"></i> Back
                    </button>
                    <button id="confirm-appointment" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition">
                        Confirm Appointment <i class="fas fa-check ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Include Footer -->
    <div id="footer"></div>

    <script>
        // Load header and footer
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header').innerHTML = data;
            });

        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer').innerHTML = data;
            });

        // Appointment booking steps logic
        document.addEventListener('DOMContentLoaded', function() {
            const steps = document.querySelectorAll('.step');
            const nextButtons = document.querySelectorAll('.next-step');
            const prevButtons = document.querySelectorAll('.prev-step');
            const timeSlots = document.querySelectorAll('.time-slot');
            const confirmButton = document.getElementById('confirm-appointment');
            let selectedTime = null;

            // Initialize date picker with tomorrow's date as minimum
            const dateInput = document.getElementById('appointment-date');
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            dateInput.min = tomorrow.toISOString().split('T')[0];

            // Time slot selection
            timeSlots.forEach(slot => {
                slot.addEventListener('click', function() {
                    timeSlots.forEach(s => s.classList.remove('bg-blue-100', 'border-blue-500', 'text-blue-700'));
                    this.classList.add('bg-blue-100', 'border-blue-500', 'text-blue-700');
                    selectedTime = this.textContent;
                    document.getElementById('confirm-time').textContent = selectedTime;
                });
            });

            // Date selection
            dateInput.addEventListener('change', function() {
                document.getElementById('confirm-date').textContent = this.value;
            });

            // Service selection
            document.querySelectorAll('input[name="service"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.checked) {
                        document.getElementById('confirm-service').textContent = 
                            document.querySelector(`label[for="${this.id}"] span:first-child`).textContent;
                    }
                });
            });

            // Next step button
            nextButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const currentStep = this.closest('.step');
                    const nextStepId = this.getAttribute('data-next');
                    
                    currentStep.classList.remove('active');
                    document.getElementById(nextStepId).classList.add('active');
                    
                    // Update step indicator
                    document.querySelectorAll('.step-circle').forEach(circle => {
                        circle.classList.remove('active');
                    });
                    document.getElementById(`${nextStepId}-indicator`).classList.add('active');
                });
            });

            // Previous step button
            prevButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const currentStep = this.closest('.step');
                    const prevStepId = this.getAttribute('data-prev');
                    
                    currentStep.classList.remove('active');
                    document.getElementById(prevStepId).classList.add('active');
                    
                    // Update step indicator
                    document.querySelectorAll('.step-circle').forEach(circle => {
                        circle.classList.remove('active');
                    });
                    document.getElementById(`${prevStepId}-indicator`).classList.add('active');
                });
            });

            // Confirm appointment
            confirmButton.addEventListener('click', function() {
                if (!document.getElementById('terms-agreement').checked) {
                    alert('Please agree to the Terms of Service and Privacy Policy');
                    return;
                }

                // In a real app, you would send this data to your backend
                const appointmentData = {
                    service: document.getElementById('confirm-service').textContent,
                    date: document.getElementById('confirm-date').textContent,
                    time: document.getElementById('confirm-time').textContent,
                    patient: document.getElementById('patient-name').value,
                    age: document.getElementById('patient-age').value,
                    gender: document.getElementById('patient-gender').value,
                    phone: document.getElementById('patient-phone').value,
                    email: document.getElementById('patient-email').value,
                    notes: document.getElementById('patient-notes').value
                };

                console.log('Appointment data:', appointmentData);
                
                // Show success message
                alert('Appointment booked successfully! You will receive a confirmation email shortly.');
                
                // Reset form (in a real app, you might redirect to a success page)
                document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
                document.getElementById('step1').classList.add('active');
                document.querySelectorAll('.step-circle').forEach(circle => {
                    circle.classList.remove('active', 'completed');
                });
                document.getElementById('step1-indicator').classList.add('active');
                document.querySelector('input[name="service"][id="general"]').checked = true;
                document.getElementById('appointment-date').value = '';
                timeSlots.forEach(s => s.classList.remove('bg-blue-100', 'border-blue-500', 'text-blue-700'));
                document.getElementById('patient-name').value = '';
                document.getElementById('patient-age').value = '';
                document.getElementById('patient-gender').value = '';
                document.getElementById('patient-phone').value = '';
                document.getElementById('patient-email').value = '';
                document.getElementById('patient-notes').value = '';
                document.getElementById('terms-agreement').checked = false;
                selectedTime = null;
            });
        });
    </script>
</body>
</html>